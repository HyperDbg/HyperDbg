# Code generated by Visual Studio kit, DO NOT EDIT.
cmake_minimum_required(VERSION 3.15)
project(HyperDbg C CXX)
set(CMAKE_CXX_STANDARD 23)
#set(CMAKE_C_STANDARD 23)
enable_language(ASM_MASM)
set_property(GLOBAL PROPERTY USE_FOLDERS ON)
#list(APPEND CMAKE_MODULE_PATH "$ENV{path}")
list(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}")
find_package(WDK REQUIRED)

add_subdirectory(hyperhv)
target_link_libraries(hyperhv WDK::NTOSKRNL WDK::HAL WDK::WMILIB zydisKernel)

add_subdirectory(dependencies/pdbex/Source)
add_subdirectory(symbol-parser)
target_link_libraries(symbol-parser pdbex)

add_subdirectory(script-engine)
target_link_libraries(script-engine symbol-parser)

add_subdirectory(hyperlog)
target_link_libraries(hyperlog WDK::NTOSKRNL WDK::HAL WDK::WMILIB)

link_directories(libraries/kdserial/x64)
add_subdirectory(kdserial)
target_link_libraries(kdserial WDK::NTOSKRNL WDK::HAL WDK::WMILIB kdserialtransport kdhv kdtelemetry)


add_subdirectory(hyperkd)
target_link_libraries(hyperkd WDK::NTOSKRNL WDK::HAL WDK::WMILIB hyperlog hyperhv kdserial)

add_definitions(
        -DHPRDBGCTRL_EXPORTS
)
link_directories(libraries/keystone/release-lib)
link_directories(libraries/zydis/user)
add_subdirectory(libhyperdbg)
target_link_libraries(libhyperdbg Zycore Zydis keystone script-engine )

#add_subdirectory(hyperdbg-cli)
#target_link_libraries(hyperdbg-cli libhyperdbg )
#
#add_subdirectory(hyperdbg-test)
#target_link_libraries(hyperdbg-test libhyperdbg )

#add_subdirectory("../examples/kernel/hyperdbg_driver")
#add_subdirectory("../examples/user/hyperdbg_app")


